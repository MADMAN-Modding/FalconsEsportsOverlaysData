<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <!-- <meta http-equiv="refresh" content="5"> -->
     <!-- Version = 1 -->
    <title>DCScoreboardOverlay</title>
</head>

<body>
    <iframe src="" id="overlayiFrame" frameborder="0"></iframe>
</body>

<style>
@font-face {
    font-family: 'Ethnocentric';
    src: url('ethnocentric.woff') format('woff');
}

html {
    width: 1920px;
    height: 1080px;
}

body {
    background-color: transparent;
    overflow: hidden;
    color: white;
    margin: auto;
    width: 1920px;
    height: 1080px;
}

h1 {
    font-family: 'Ethnocentric';
    text-shadow: 2px 2px 2px black;
}

#overlayiFrame {
    width: 1920px;
    height: 1080px;
}

</style>
<script defer>
let overlayiFrame;
let i = 0;
setInterval(function () {
  fetch("../json/overlay.json?" + i)
    .then((response) => response.json())
    .then((jsonData) => {
      overlayiFrame = document.getElementById("overlayiFrame");

      // Returns if the overlay is already set
      if (overlayiFrame.src.includes(jsonData["overlay"])) {
        return;
      }

      // Loads the correct overlay
      overlayiFrame.src =
        window.location.href + "/overlays/" + jsonData["overlay"] + ".html";

      document.title =
        jsonData["overlay"].charAt(0).toUpperCase() +
        jsonData["overlay"].slice(1);
    });
  i = Math.floor(Math.random() * 1000000);
}, 200);
</script>

</html>
